<!DOCTYPE html>
<html xmlsn:th="http://www.thymeleaf.org">
<heaad>
	<div th:replace="../static/include/head"></div>
	<title>HOME PRODUCTOS</title>
</heaad>

<body class="text-bg-dark bg-opacity-75">
	<div th:replace="../static/include/navbar"></div>


	<!-- Start Content -->
	<div class="container-fluid py-5 ">
		<div class="row m-0 p-0">

			<!--Navbar de categorias -->
			<div class="col-lg-2 list-group  list-group-flush ">

				<div class="list-group-item active">
					<h4>CATEGORIAS</h4>
				</div>
				<div th:each="categoria : ${listaCategoria}" class="list-group-item list-group-item-action">
					<h6 th:text="${categoria.desCategoriaProducto}"></h6>
				</div>

			</div>
			<!--Fin de navbar de categorias -->

			<!--lista de productos -->
			<div class="col-lg-10 row gap-4">



				<div class="col-12">
					<div th:if="${listaProductos}" class="row row-cols-4 g-4">
						<div th:each="producto : ${listaProductos}">
							<div class="card">
								<div class="card-header text-center">
									<h3 th:text="${producto.nomProducto}">
										</h4>
								</div>
								<div class="card-img-top">
									<img th:if="${producto.imagenProducto}"
										th:src="@{'data:image;base64,' + ${Base64.encodeAsString(producto.imagenProducto)}}"
										width="100%" height="200px" />

									<img th:if="!${producto.imagenProducto}"
										src="https://laopinion.com/wp-content/uploads/sites/3/2019/04/p2.jpg?quality=80&strip=all"
										width="100%" height="200px" />
								</div>
								<div class="card-body ">
									<div class="d-flex flex-column gap-2">
										<div class="row ">
											<h6>DESCRIPCION:</h6>
											<div class="overflow-y-auto" style="height: 100px;">

												<div th:text="${producto.desProducto}"></div>
											</div>
										</div>
										<div>
											<div class="row">
												<div class="col">
													<h6>PRECIO: </h6>
												</div>
												<div class="col">
													<div th:text="'S/. ' + ${producto.preciouniProducto}"></div>
												</div>
											</div>
											<div class="row">
												<div class="col">
													<h6>STOCK: </h6>
												</div>
												<div class="col">
													<div th:text="${producto.stockProducto}"></div>
												</div>
											</div>
										</div>
										<div class="row row-cols-auto">
											<div class="col-7">
												<form th:action="@{/agregarCarro/{id}(id=${producto.idProducto})}"
													th:object="${productoPedido}" method="post">
													<div class="row row-cols-auto g-2">
														<div class="col-lg">
															<button type="submit"
																class="btn btn-success">AGREGAR</button>
														</div>

														<div class="col-lg">
															<input th:field="*{cantidadProducto}" type="number"
																class="form-control" />
														</div>
													</div>
												</form>
											</div>

											<div class="col-5" th:if="${producto.idProducto} ==  ${idProducto}">
												<div class="fw-bold text-success" th:if="${mensaje}"
													th:text="${mensaje}"></div>
											</div>

										</div>
									</div>

								</div>
							</div>

						</div>
					</div>
				</div>

				<div class="col-12">
					<ul class="pagination pagination-lg justify-content-start">
						<li class="page-item disabled">
							<a class="page-link active rounded-0 mr-3 shadow-sm border-top-0 border-left-0" href="#"
								tabindex="-1">1</a>
						</li>
						<li class="page-item">
							<a class="page-link rounded-0 mr-3 shadow-sm border-top-0 border-left-0 text-dark"
								href="#">2</a>
						</li>
						<li class="page-item">
							<a class="page-link rounded-0 shadow-sm border-top-0 border-left-0 text-dark" href="#">3</a>
						</li>
					</ul>
				</div>

			</div>
			<!--fin de lista de productos -->

		</div>
	</div>
	<!-- End Content -->



</body>

</html>